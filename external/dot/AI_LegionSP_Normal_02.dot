digraph {
	fixedsize=true;
	concentrate=true;
	node [shape=rect margin="0.25,0.125"];
	start [shape=invhouse];

	node [style=filled fillcolor="#FFEEBB"]; # cond
	cond1 [tooltip="check?type=buff&kind=target&buff=Effect_MP_LegionSPEX_N_1"]; # has Effect_MP_LegionSPEX_N_1 buff in target
	skill_usable1 [tooltip="check?type=skill&slot=1&kind=usable"]; # active 2 usable
	skill_usable2 [tooltip="check?type=skill&slot=2&kind=usable"]; # active 2 usable
	skill_usable2_1 [tooltip="check?type=skill&slot=2&kind=usable"]; # active 2 usable

	node [fillcolor="#BBCCFF"];
	skill1 [tooltip="skill?slot=1&target=flying"]; # use active 1 to flying first
	skill2 [tooltip="skill?slot=2&target=backend"]; # use active 2 to backend

	node [fillcolor="#7788aa"];

	start -> cond1;

	cond1 -> skill_usable2 [label="y"];
	cond1 -> skill_usable1 [label="n"];

	skill_usable2 -> skill2 [label="y"];
	skill_usable2-> skill_usable1 [label="n"];

	skill_usable1 -> skill1 [label="y"];
	skill_usable1 -> skill_usable2_1 [label="y"];

	skill_usable2_1 -> skill2 [label="y"];
	skill_usable2_1 -> wait [label="n"];
}